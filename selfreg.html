<!DOCTYPE html>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
<html>
  <head>
    <title>Online Library Card Registration Form</title>
    <link rel="stylesheet" type="text/css" href="/screens/selfreg_style.css" />
  </head>
  <body>
    <script src="/screens/jquery.min.js"></script>
    <script src="/screens/language_tokens.js"></script>
    <script src="/screens/selfreg_logic.js"></script>
    <div id="intro_header">
      <img class="inline" src="/screens/logo.png" />
      <h1 class="inline"><script>msg('header');</script></h1>
    </div>
    <div id="form_wrapper">
      <form id="selfreg" method="post" onsubmit="return try_submit();">
	<!-- unable to submit form (using III tag {iferrmsg}) -->
	<div id="submit_error" class="hidden">
	  <h1><script>msg('submit_error');</script></h1>
	  <p><script>msg('submit_error_note');</script></p>
	</div>
	<!-- age test -->
	<div id="age_input" class="hidden">
	  <h2><script>msg('enter_birthdate');</script></h2>
	  <script>msg('month');</script> <select name="birth_month">
	    <option value="1"><script>msg('january');</script></option>
	    <option value="2"><script>msg('february');</script></option>
	    <option value="3"><script>msg('march');</script></option>
	    <option value="4"><script>msg('april');</script></option>
	    <option value="5"><script>msg('may');</script></option>
	    <option value="6"><script>msg('june');</script></option>
	    <option value="7"><script>msg('july');</script></option>
	    <option value="8"><script>msg('august');</script></option>
	    <option value="9"><script>msg('september');</script></option>
	    <option value="10"><script>msg('october');</script></option>
	    <option value="11"><script>msg('november');</script></option>
	    <option value="12"><script>msg('december');</script></option>
	  </select>
	  <script>msg('day');</script> <input type="text" name="birth_day" class="glowing-border" size="3">
	  <script>msg('year');</script> <input type="text" name="birth_year" class="glowing-border" size="4">
	  <input id="button_age_submit" type="button" class="button white" onclick="try_birthdate();">
	  <script>document.getElementById("button_age_submit").value = msgval('submit');</script>
	</div>
	<!-- child form header -->
	<div id="header_child" class="hidden">
	  <h2><script>msg('header_child');</script></h2>
	  <p><script>msg('disability_note');</script></p>
	  <p><script>msg('pickup_note_child');</script></p>
	</div>
	<!-- teen form header -->
	<div id="header_teen"  class="hidden">
	  <h2><script>msg('header_teen');</script></h2>
	  <p><script>msg('disability_note');</script></p>
	  <p><script>msg('pickup_note_teen');</script></p>
	</div>
	<!-- adult form header -->
	<div id="header_adult"  class="hidden">
	  <h2><script>msg('header_adult');</script></h2>
	  <p><script>msg('disability_note');</script></p>
	  <p><script>msg('pickup_note_adult');</script></p>
	</div>
	<!-- common form elements -->
	<div id="form_common"  class="hidden">
	  <!-- legend -->
	  <p><span class="required">&#9733;</span> = <script>msg('required');</script></p>
	  <!-- error messages -->
	  <div id="errors"></div>
	  <!-- name -->
	  <h3><script>msg('name');</script></h3>
	  <p>
	    <div id="last_name" class="inline">
	      <script>msg('last_name');</script> <input type="text" name="last_name" class="long-field">
	    </div>
	    <div id="first_name" class="inline">
	      <script>msg('first_name');</script> <input type="text" name="first_name">
	    </div>
	    <div id="middle_initial" class="inline">
	      <script>msg('middle_initial');</script> <input type="text" name="middle_initial" class="short-field" maxlength="1">
	    </div>
	  </p>
	  <!-- home address -->
	  <h3><script>msg('home_address');</script></h3>
	  <p>
	    <div id="home_address" class="inline">
	      <script>msg('street');</script> <input type="text" name="home_address" class="long-field">
	    </div>
	    <div id="home_apt" class="inline">
	      <script>msg('apt');</script> <input type="text" name="home_apt" class="short-field">
	    </div>
	    <div id="home_city" class="inline">
	      <script>msg('city');</script> <input type="text" name="home_city">
	    </div>
	    <div id="home_zip" class="inline">
	      <script>msg('zip');</script> <input type="text" name="home_zip">
	    </div>
	  </p>
	  <!-- telephone -->
	  <h3><script>msg('phone');</script></h3>
	  <p>
	    <div id="phone" class="inline">
	      <input type="text" name="phone"> <script>msg('phone_note');</script>
	    </div>
	  </p>
	  <!-- mailing address -->
	  <h3><script>msg('mailing_address');</script></h3>
	  <p>
	    <div id="mailing_address" class="inline">
	      <script>msg('street');</script> <input type="text" name="mailing_address" class="long-field">
	    </div>
	    <div id="mailing_apt" class="inline">
	      <script>msg('apt');</script> <input type="text" name="mailing_apt" class="short-field">
	    </div>
	    <div id="mailing_city" class="inline">
	      <script>msg('city');</script> <input type="text" name="mailing_city">
	    </div>
	    <div id="mailing_zip" class="inline">
	      <script>msg('zip');</script> <input type="text" name="mailing_zip">
	    </div>
	  </p>
	  <!-- email -->
	  <h3><script>msg('email');</script></h3>
	  <p>
	    <div id="email" class="inline">
	      <input type="text" name="email" class="long-field">
	    </div>
	  </p>
	  <!-- preferred language -->
	  <h3><script>msg('pref_lang');</script></h3>
	  <p><script>msg('pref_lang_note');</script></p>
	  <input type="text" name="language">
	</div>
	<!-- teen / adult specific form elements -->
	<div id="form_teen_adult" class="hidden">
	  <!-- identification -->
	  <h3><script>msg('ident');</script></h3>
	  <p><script>msg('ident_note');</script></p>
	  <div id="id_types">
	    <table>
	      <tr>
		<td><input type="radio" name="id_type" value="id_license"><script>msg('drivers_license');</script></td>
		<td><input type="radio" name="id_type" value="id_stateid"><script>msg('state_id');</script></td>
		<td><input type="radio" name="id_type" value="id_student"><script>msg('student_id');</script></td>
		<td><input type="radio" name="id_type" value="id_resident"><script>msg('resident_card');</script></td>
	      </tr>
	      <tr>
		<td><input type="radio" name="id_type" value="id_matricula"><script>msg('matricula');</script></td>
		<td><input type="radio" name="id_type" value="id_cityid"><script>msg('city_id');</script></td>
		<td><input type="radio" name="id_type" value="id_passport"><script>msg('passport');</script></td>
	      </tr>
	    </table>
	  </div>
	  <p>
	    <div id="id_number" class="inline">
	      <script>msg('ident_number');</script> <input type="text" name="id_number"  class="long-field">
	    </div>
	  </p>
	</div>
	<!-- child specific form elements -->
	<div id="form_child" class="hidden">
	  <!-- child school -->
	  <h3><script>msg('school');</script></h3>
	  <p>
	    <div id="school" class="inline">
	      <script>msg('school');</script> <input type="text" name="school" class="long-field">
	    </div>
	  </p>
	  <!-- parent/guardian information -->
	  <h3><script>msg('parent_info');</script></h3>
	  <div id="guardian_wrapper">
	    <p><script>msg('ident_note');</script></p>
	    <!-- name -->
	    <p>
	      <div id="guardian_last_name" class="inline">
		<script>msg('last_name');</script> <input type="text" name="guardian_last_name" class="long-field">
	      </div>
	      <div id="guardian_first_name" class="inline">
		<script>msg('first_name');</script> <input type="text" name="guardian_first_name">
	      </div>
	      <div id="guardian_middle_initial" class="inline">
		<script>msg('middle_initial');</script> <input type="text" name="guardian_middle_initial" class="short-field" maxlength="1">
	      </div>
	    </p>
	    <!-- guardian identification -->
	    <div id="guardian_id_types">
	      <table>
		<tr>
		  <td><input type="radio" name="id_type" value="id_license"><script>msg('drivers_license');</script></td>
		  <td><input type="radio" name="id_type" value="id_stateid"><script>msg('state_id');</script></td>
		  <td><input type="radio" name="id_type" value="id_student"><script>msg('student_id');</script></td>
		  <td><<i></i>nput type="radio" name="id_type" value="id_resident"><script>msg('resident_card');</script></td>
		</tr>
		<tr>
		  <td><input type="radio" name="id_type" value="id_matricula"><script>msg('matricula');</script></td>
		  <td><<i></i>nput type="radio" name="id_type" value="id_cityid"><script>msg('city_id');</script></td>
		  <td><input type="radio" name="id_type" value="id_passport"><script>msg('passport');</script></td>
		</tr>
	      </table>
	    </div>
	    <p>
	      <div id="guardian_id_number" class="inline">
		<script>msg('ident_number');</script> <input type="text" name="guardian_id_number"  class="long-field">
	      </div>
	    </p>
	  </div>
	</div>
	<!-- online agreement -->
	<div id="agreement" class="hidden">
	  <h3><script>msg('agreement');</script></h3>
	  <!-- child agreement -->
	  <div id="agreement_child" class="hidden">
	    <p><script>msg('agreement_note_child');</script></p>
	  </div>
	  <!-- teen / adult agreement -->
	  <div id="agreement_teen_adult"  class="hidden">
	    <p><script>msg('agreement_note_teen_adult');</script></p>
	  </div>
	  <!-- agreement confirmation -->
	  <div id="agreement_box">
	    <input type="checkbox" name="agreement">
	    <script>msg('agree');</script>
	  </div>
	</div>
	<div id="footer"  class="hidden">
	  <p>
	    <input id="button_submit" type="submit" class="whitebutton" value="">
	    <script>document.getElementById("button_submit").value = msgval('submit');</script>
	    <input id="button_reset" type="button" class="yellowbutton" value="" onclick="reset_form();">
	    <script>document.getElementById("button_reset").value = msgval('start_over');</script>
	  </p>
	</div>
      </form>
    </div>
    <div id="light"></div>
    <div id="fade" onClick="lightbox_close();"></div>
<!--{iferrmsg}-->
    <script type="text/javascript">
      // millennium will do this if form submission failed.
    if ((window.location.hostname != 'localhost') && (window.location.hostname != '10.30.9.6')) {
        window.submit_error = true; // flag checked by selfreg_logic.js
    }
    </script>
<!--{xif}-->
  </body>
</html>
